@server=http://localhost:8080

### 1. Headers Draft POST
# @name Headers_Draft_POST
POST {{server}}/odata/v4/odata/v4/composition/Headers
Content-Type: application/json

{
  "title": "Test Header 001",
  "description": "Testing DRAFT_SAVE handler",
  "items": [
    {
      "ID": "11111111-1111-1111-1111-111111111111",
      "itemNo": 10,
      "productName": "Product A",
      "quantity": 5,
      "price": 100.00
    },
    {
      "ID": "22222222-2222-2222-2222-222222222222",
      "itemNo": 20,
      "productName": "Product B",
      "quantity": 3,
      "price": 200.00
    }
  ]
}

###
@draftID={{Headers_Draft_POST.response.body.$.ID}}

### 2. Headers Draft Activate
POST {{server}}/odata/v4/odata/v4/composition/Headers(ID={{draftID}},IsActiveEntity=false)/CompositionService.draftActivate
Content-Type: application/json

{}

### 3. Headers Draft Edit
POST {{server}}/odata/v4/odata/v4/composition/Headers(ID={{draftID}},IsActiveEntity=true)/CompositionService.draftEdit
Content-Type: application/json

{}

### 4. Headers Draft Delete Item
DELETE {{server}}/odata/v4/odata/v4/composition/Headers(ID={{draftID}},IsActiveEntity=false)/items(ID=11111111-1111-1111-1111-111111111111,IsActiveEntity=false)
Content-Type: application/json

### 5. Get Draft Item
GET {{server}}/odata/v4/odata/v4/composition/Headers(ID={{draftID}},IsActiveEntity=false)/items(ID=11111111-1111-1111-1111-111111111111,IsActiveEntity=false)
Content-Type: application/json

### 6. Activate Draft Again (with deleted item)
POST {{server}}/odata/v4/odata/v4/composition/Headers(ID={{draftID}},IsActiveEntity=false)/CompositionService.draftActivate
Content-Type: application/json

{}
